@import './global.css';
@tailwind components;

@layer components {
    /** ================== Layout ================= **/
    .section-snap {
        margin-bottom: 100px;
    }
    @media screen(md) {
        .section-snap {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            scroll-margin-top: 48px;
            margin-bottom: 100%;
            @apply landscape:snap-start md:landscape:snap-center;
        }
    }
    .section-snap:last-of-type {
        margin-bottom: 0px;
    }

    .subsection {
        counter-increment: subsection 1;
        & h4:before {
            content: '0' counter(subsection) '. ';
            @apply text-[0.65em] font-light tracking-normal text-white;
        }
    }

    /** =============== COMPONENTS ============== **/
    #navbar {
        --nav-ce: cubic-bezier(0.5, 1, 0.5, 1);
        --before: 0;
        --pseudos-transition: all 0.5s 0.85s var(--nav-ce);

        &[data-menuopen='true'] {
            --before: 1.15;
            --pseudos-transition: all 0.5s 0s var(--nav-ce);
        }

        &.tempered-bg,
        & .tempered-bg {
            @apply md:origin-left;
            &:before,
            &:after {
                @apply absoluteFull;
                content: '';
            }
            &:before {
                @apply origin-top bg-nav;
                opacity: var(--before);
                transform: scaleY(var(--before));
                transition: var(--pseudos-transition);
            }
            &:after {
                @apply bg-nav_tempered backdrop-blur-sm;
                content: '';
            }
        }
    }

    .content-innerHTML {
        @apply w-full pb-16;

        & > p {
            @apply indent-4 md:indent-8;
        }
        & > p:first-of-type {
            @apply indent-4;
        }

        &.about {
            & > p {
                &:first-of-type {
                    @apply mb-4 font-medium leading-7 sm:text-[24px] sm:leading-8 md:text-center md:text-[1.1em];
                }
                &:not(:last-of-type) {
                    @apply pb-2 md:pb-6;
                }
            }
        }

        &.experience {
            & > h4 {
                @apply flex-center h-[2em] text-2xl xs:h-[4em] sm:text-3xl md:hidden;
            }
            & > p {
                @apply mb-4 px-4 text-start last-of-type:mb-0 xs:leading-7 sm:px-12;
            }
        }
    }

    /*Experience*/
    .list-item-bg {
        position: relative;
        color: theme(colors.grey.60);
        overflow: hidden;
        z-index: 1;
        transition: 0.25s ease-in;

        &:after {
            @apply absoluteFull;
            content: '';
            background: theme(backgroundImage.gradient);
            opacity: 0;
            z-index: -1;
            transition: 0.25s ease-in;
        }
        &:hover:after {
            opacity: 0.1;
        }
        &[data-active='true'] {
            color: theme(colors.white);
            &:after {
                opacity: 0.5;
            }
        }
    }

    .project-innerHTML {
        & > p {
            white-space: pre-wrap;
            text-indent: 8px;
        }
        &:before {
            content: '';
            height: 30%;
            width: 60%;
            -webkit-shape-outside: inset(0 0 0 0);
            shape-outside: inset(0 0 0 0);
        }
        &[data-even='true']:before {
            float: right;
        }
        &[data-even='false']:before {
            float: left;
        }
    }

    /** Scroll Down Arrow **/
    .scroll-down-arrow {
        & span:nth-of-type(1) {
            transform: rotate(12.5deg) skew(12.5deg) translateX(1px);
        }
        & span:nth-of-type(2) {
            transform: rotate(-12.5deg) skew(-12.5deg) translateX(-1px);
        }
    }

    .styled-underline {
        position: absolute;
        bottom: 0px;
        height: 2px;
        background-color: #fffa;
        border-radius: 40% 40% 0 0;
        filter: blur(0.5px);
        @apply left-0 w-full md:left-auto md:w-[calc(5em+15vw)];

        &:after {
            content: '';
            position: absolute;
            bottom: -2.5px;
            left: 0;
            right: 0;
            height: 3px;
            background: theme(backgroundImage.gradient);
            background-size: 500%;
            background-position: 33%;
            border-radius: 0 0 40% 40%;
            filter: blur(2px) contrast(1.5);
        }
    }

    .styled-btn {
        box-shadow: inset 0 0.1rem 0.1rem #0008, inset 0 -0.25rem 0.25rem #0005,
            inset 0 -0.5rem 0.5rem #0005, 0 0.1rem 0.1rem #0008,
            0 1rem 0.5rem -0.5rem #0008;

        &:hover {
            box-shadow: inset 0 0.1rem 0.1rem #0008,
                inset 0 -0.25rem 0.25rem #0005, inset 0 -0.5rem 0.5rem #0005,
                0 0.1rem 0.1rem #000, 0 2rem 1rem -1rem #000f;
        }

        &.clicked {
            @apply scale-95 saturate-0 duration-1000;
        }
    }

    /** Styled Link **/
    .styled_link {
        position: relative;
        color: theme(colors.grey.70);
        cursor: pointer;
        filter: blur(0px) saturate(1) contrast(1);
        transform: translateY(0px);
        transition: all 0.3s 0s ease-in-out;

        &:before,
        &:after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            background: theme(backgroundImage.gradient);
            background-size: 300%;
            background-position: 0%;
            border-radius: 10%;
            opacity: 0;
            transform-origin: top;
            transition: color 0.3s ease-in-out, opacity 0.3s ease-in-out;
            @apply motion-reduce:scale-y-100;
        }
        &:before {
            bottom: 0px;
            height: 2px;
            filter: blur(3px) saturate(2) contrast(2);
        }
        &:after {
            bottom: 3px;
            height: 1px;
            filter: blur(0px) saturate(1) contrast(0.5);
        }

        &:hover {
            color: white;
            transform: translateY(-2.5px);
            transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
            @apply text-white motion-reduce:translate-y-0;

            &:before {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.6s ease-in-out;
            }
            &:after {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.3s 0.15s ease-in-out;
            }
        }

        &.clicked {
            --ease: cubic-bezier(0.5, 0.5, 0.5, 1);

            filter: blur(3px) saturate(2) contrast(2) !important;
            transform: scale(0.95) !important;
            transition: filter 0.25s var(--ease), transform 0.25s var(--ease) !important;

            &:before,
            &:after {
                transform: scale(0);
                transition: transform 0.25s var(--ease) !important;
            }
        }
    }
}

/* 
    Styled Btn Hexagons 
    .styled-btn {
        --s: 30px;
        --m: 0px;
        --cont-t: 1;
    }
    .styled-btn:hover {
        --s: 30px; 
        --m: 10px;
        --cont-t: 1.5;
    }
    .hexagons {
        --cb-ease: cubic-bezier(0.64, 0.57, 0.67, 1.53);

        & > div {
            transform: scale(var(--cont-t));
            transform-origin: top;
            transition: 0.5s var(--ease);
        }
        & .container {
            & div {
                width: var(--s);
                margin: var(--m);
                height: calc(var(--s) * 1.1547);
                clip-path: polygon(
                    0% 25%,
                    0% 75%,
                    50% 100%,
                    100% 75%,
                    100% 25%,
                    50% 0%
                );
                margin-bottom: calc(var(--m) - var(--s) * 0.2885);
                transition: 1s var(--cb-ease);
            }

            --f: calc(1.732 * var(--s) + 4 * var(--m) - 1px);

            &:before {
                content: '';
                width: calc(var(--s) / 2 + var(--m));
                float: left;
                height: 120%;
                shape-outside: repeating-linear-gradient(
                    #0000 0 calc(var(--f) - 3px),
                    #000 0 var(--f)
                );
                transition: 1s var(--cb-ease);
            }
        }

        &:after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            z-index: 1;
            box-shadow: inset 0 0 1rem 1rem #0002;
        }
    }
*/
