@import './global.css';
@tailwind components;

@layer components {
    #navbar {
        --nav-ce: cubic-bezier(0.5, 1, 0.5, 1);
        --before: 0;
        --pseudos-transition: all 0.5s 0.85s var(--nav-ce);

        & a[data-logo-text]:after {
            --y1: 1;
            --d: calc(1 - var(--y1));
            --ty: calc(25% * var(--d));
            content: attr(data-logo-text);
            background: linear-gradient(
                45deg,
                var(--theme-teal),
                var(--theme-slate),
                var(--theme-purple),
                var(--theme-slate),
                var(--theme-teal)
            );
            background-size: 300%;
            transition: transform 1s var(--nav-ce), filter 1s var(--nav-ce);
            @apply absolute inset-0 -z-20 origin-top translate-x-[-0.05px] translate-y-[-5%] scale-y-[1.1] animate-[bgRotate_10s_linear_infinite] bg-clip-text text-center font-bold tracking-[0.075em] text-transparent blur-[1px] contrast-200 motion-reduce:animate-none;
        }

        &[data-menuopen='true'] {
            --before: 1.15;
            --pseudos-transition: all 0.5s 0s var(--nav-ce);
        }

        &.tempered-bg,
        & .tempered-bg {
            @apply md:origin-left;
            &:before,
            &:after {
                @apply absoluteFull;
                content: '';
            }
            &:before {
                @apply origin-top bg-nav;
                opacity: var(--before);
                transform: scaleY(var(--before));
                transition: var(--pseudos-transition);
            }
            &:after {
                content: '';
                background: linear-gradient(
                    to bottom,
                    rgb(var(--nav-bg) / 0.8) 0%,
                    rgb(var(--nav-bg) / 0.75) 10%,
                    rgb(var(--nav-bg) / 0.75) 15%,
                    rgb(var(--nav-bg) / 0.5) 30%,
                    rgb(var(--nav-bg) / 0.45) 35%,
                    rgb(var(--nav-bg) / 0.4) 40%,
                    rgb(var(--nav-bg) / 0.35) 47.5%,
                    rgb(var(--nav-bg) / 0.3) 52.5%,
                    rgb(var(--nav-bg) / 0.2) 60%,
                    rgb(var(--nav-bg) / 0.1) 70%,
                    rgb(var(--nav-bg) / 0.05) 77.5%,
                    transparent 85%,
                    transparent 100%
                );
                @apply backdrop-blur-sm;
            }
        }
    }

    .content-innerHTML {
        @apply w-full px-2;

        & > p {
            @apply cursor-text select-text whitespace-pre-line indent-4 md:indent-8 !important;
        }

        &.about {
            @apply pb-14;
            & > h3 {
                @apply text-center md:text-start;
            }
        }

        &.experience {
        }

        &.projects {
            & > h3 {
                @apply mx-auto w-3/4 text-start font-robotoMono text-28pt italic text-purple-dark underline;
            }
            & > p:first-of-type {
                @apply mt-4;
            }
            &:before {
                content: '';
                @apply aspect-[5/3.05] w-[calc(57.5%+8px)] lg:w-[calc(50%+8px)];
                /* used 3.1 instead of 3 because of image shadow */
                -webkit-shape-outside: inset(0 0 0 0);
                shape-outside: inset(0 0 0 0);
            }
            &[data-even='true']:before {
                @apply float-right translate-x-9 lg:translate-x-10;
            }
            &[data-even='false']:before {
                @apply float-left -translate-x-9 lg:-translate-x-8;
            }
        }
    }

    /* Intro Graphic */
    @keyframes orbit {
        0% {
            transform: rotateZ(0deg);
        }
        100% {
            transform: rotateZ(-360deg);
        }
    }

    @keyframes invert {
        0% {
            transform: rotateX(-90deg) rotateY(360deg) rotateZ(0deg) scale(1.25);
        }
        12.5% {
            transform: rotateX(-90deg) rotateY(315deg) rotateZ(0deg) scale(1.5);
        }
        25% {
            transform: rotateX(-90deg) rotateY(270deg) rotateZ(0deg) scale(1.75);
        }
        37.5% {
            transform: rotateX(-90deg) rotateY(225deg) rotateZ(0deg) scale(2);
        }
        50% {
            transform: rotateX(-90deg) rotateY(180deg) rotateZ(0deg) scale(1.75);
        }
        62.5% {
            transform: rotateX(-90deg) rotateY(135deg) rotateZ(0deg) scale(1.5);
        }
        75% {
            transform: rotateX(-90deg) rotateY(90deg) rotateZ(0deg) scale(1.25);
        }
        87.5% {
            transform: rotateX(-90deg) rotateY(45deg) rotateZ(0deg) scale(1);
        }
        100% {
            transform: rotateX(-90deg) rotateY(0deg) rotateZ(0deg) scale(1.25);
        }
    }

    /* LINKS */
    .pg-link {
        @apply relative cursor-pointer tracking-wide text-slate-neon duration-250 ease-tween hover:mr-3;
        &:after {
            content: '\000BB';
            @apply absolute right-0 text-1.5x leading-[0.85] duration-250 ease-tween;
            clip-path: inset(0 0 0 100%);
        }
        &:hover:after {
            @apply -right-4;
            clip-path: inset(0 0 0 0);
        }
    }
    .responsive-socials-width {
        @apply w-1/2 sm:portrait:w-full landscape:w-1/2 md:landscape:w-1/2 lg:landscape:w-full;
    }
    .socials-text-style {
        & > span {
            @apply relative;
        }
        & > span:after {
            content: '';
            @apply absolute -inset-x-0.5 -bottom-1 -z-20 h-[4px] origin-bottom-right scale-x-0  rounded-full bg-slate will-change-transform;
            transition: transform 0.25s linear;
        }
        &:hover > span:after {
            @apply origin-bottom-left scale-x-100;
        }
    }
    .styled-exit-btn {
        @apply flex-center relative cursor-pointer;
        &:after,
        &:before {
            content: '';
            @apply absolute h-[2px] w-full bg-white;
        }
        &:before {
            @apply -rotate-45;
        }
        &:after {
            @apply rotate-45;
        }
    }

    /* colored bullets */
    .listed-item:before {
        content: '\2022';
        @apply inline-block w-[0.75em] font-bold text-slate-neon;
    }

    .pause-btn:before,
    .pause-btn:after {
        content: '';
        @apply h-full w-[4px] rounded bg-current transition-colors duration-200 ease-tween;
    }
    .styled-underline {
        @apply absolute bottom-0 h-0.5 blur-[0.5px];
        background-color: #fffa;
        border-radius: 40% 40% 0 0;

        &:after {
            content: '';
            @apply absolute bottom-[-2.5px] left-0 right-0 h-1 bg-gradient blur-[4px] contrast-200;
            background-size: 500%;
            background-position: 33%;
            border-radius: 0 0 40% 40%;
        }

        &.underline-darker {
            @apply bottom-1 bg-slate -hue-rotate-15;
            &:after {
                @apply bottom-[-4px] h-0.5 blur-[3px];
            }
        }
    }

    /** Styled Link **/
    .styled_link {
        position: relative;
        color: theme(colors.grey.70);
        cursor: pointer;
        filter: blur(0px) saturate(1) contrast(1);
        transform: translateY(0px);
        transition: all 0.3s 0s ease-in-out;

        &:before,
        &:after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            background: theme(backgroundImage.gradient);
            background-size: 300%;
            background-position: 0%;
            border-radius: 10%;
            opacity: 0;
            transform-origin: top;
            transition: color 0.3s ease-in-out, opacity 0.3s ease-in-out;
            @apply motion-reduce:scale-y-100;
        }
        &:before {
            bottom: 0px;
            height: 2px;
            filter: blur(3px) saturate(2) contrast(2);
        }
        &:after {
            bottom: 3px;
            height: 1px;
            filter: blur(0px) saturate(1) contrast(0.5);
        }

        &:hover {
            color: white;
            transform: translateY(-2.5px);
            transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
            @apply text-white motion-reduce:translate-y-0;

            &:before {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.6s ease-in-out;
            }
            &:after {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.3s 0.15s ease-in-out;
            }
        }

        &.clicked {
            --ease: cubic-bezier(0.5, 0.5, 0.5, 1);

            filter: blur(3px) saturate(2) contrast(2) !important;
            transform: scale(0.95) !important;
            transition: filter 0.25s var(--ease), transform 0.25s var(--ease) !important;

            &:before,
            &:after {
                transform: scale(0);
                transition: transform 0.25s var(--ease) !important;
            }
        }
    }
}
