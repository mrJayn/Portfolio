@import './global.css';
@tailwind components;

@layer components {
    /** ================== Layout ================= **/
    .section-snap {
        scroll-snap-align: center;
        scroll-snap-stop: always;
        scroll-margin-top: 48px;
        @apply landscape:snap-start md:landscape:snap-center;
    }

    /** SectionCardContent Underline & Bg Effect **/
    .section-title-underline {
        position: absolute;
        bottom: 0;
        height: 2px;
        border-radius: 999px;
        background: theme(backgroundImage.gradient);
        filter: brightness(1.5);
        @apply left-0 w-full md:left-auto md:w-[calc(5em+15vw)];
        &.slugHero {
            @apply md:w-full;
        }
        &:after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: -2px;
            height: 4px;
            width: calc(100% + 4px);
            border-radius: 10%;
            filter: blur(3px) saturate(2) contrast(2);
            z-index: -1;
            background: theme(backgroundImage.gradient);
        }
    }

    /** =============== COMPONENTS ============== **/
    /* NAVBAR */
    #nav {
        --e: cubic-bezier(0.5, 1, 0.5, 1);

        &[data-menuopen='false'] {
            --bg-color: rgb(var(--nav-bg) / 0.5);
            --after-opacity: 1;
            --transition: background-color 0.5s 0.75s var(--e),
                opacity 0.55s 0.65s var(--e);
        }
        &[data-menuopen='true'] {
            --bg-color: rgb(21 21 21 / 1);
            --after-opacity: 0;
            --transition: all 0.5s var(--e);
        }

        background-color: var(--bg-color);
        transition-property: background-color;
        transition: var(--transition);

        &:after {
            @apply absoluteFull;
            content: '';
            pointer-events: none;
            background: theme(backgroundImage.gradient_tempered);
            backdrop-filter: blur(4px);
            opacity: var(--after-opacity);
            transition: var(--transition);
        }
    }

    #logo {
        --logo-teal: var(--theme-teal);
        --logo-purple: var(--theme-purple);
        transform-style: preserve-3d;
        & > * {
            transition: all 1s ease-in-out;
        }
        & > .flare {
            transform: perspective(10px) translateZ(0px);
            text-shadow: 0px 0px 0px #fff4, 0.5px -0.5px 0px var(--logo-teal),
                -0.5px 0.5px 0px var(--logo-purple),
                1.5px -1.5px 2.5px var(--logo-teal),
                -1.5px 1.5px 2.5px var(--logo-purple);
        }
        &:hover {
            --logo-teal: var(--theme-purple);
            --logo-purple: var(--theme-teal);
            & .flare {
                transform: perspective(50px) translateZ(2px);
                text-shadow: 0px 0px 0px #fff4,
                    0.5px -0.5px 0px var(--logo-teal),
                    -0.5px 0.5px 0px var(--logo-purple),
                    1.5px -1.5px 2.5px var(--logo-teal),
                    -1.5px 1.5px 2.5px var(--logo-purple);
            }
        }
    }

    #menu {
        & .menu-links {
            --col-1: theme(colors.grey.20);
            --col-2: theme(colors.teal.99);

            border-radius: 0.75rem;
            box-shadow: inset 1.5px -1.5px 0rem var(--col-1),
                inset -1.5px 1.5px 0rem var(--col-2);
            filter: brightness(1) saturate(0.5) contrast(1);
            transition: filter 0.25s ease-in;

            & > span {
                margin: 0px 0px;
                transition: all 0.25s ease-in;
            }
            &:hover {
                filter: brightness(1.5) saturate(0.75) contrast(1);

                & > span {
                    color: rgb(255 255 255 / 1);
                    margin: 0px 5px;
                }
            }
        }
    }
    /* INTRO */

    /* ABOUT */
    #about-innerHTML {
        & > p {
            @apply flex-center indent-2 md:leading-7;
            &:first-of-type {
                @apply mb-4 text-center indent-4 text-[20px] leading-8 sm:text-[24px] sm:leading-9;
            }
            &:not(:last-of-type) {
                @apply pb-2 md:pb-6;
            }
        }
    }

    /* EXPERIENCE */
    #experience-innerHTML {
        & > p {
            @apply flex-center indent-2 md:leading-7;
            &:not(:last-of-type) {
                @apply pb-2 md:pb-6;
            }
        }
    }

    /** FORM  **/
    #form {
        @apply flex-top flex-wrap;
        & > div {
            @apply flex-col-center full mx-auto mb-5 grid grid-cols-3 border-b-2 border-dashed border-grey-60/40 py-1;
            counter-increment: form-item 1;
            transition: 0.15s ease-in;

            & label {
                @apply full ml-[12.5px] text-left text-sm font-medium uppercase sm:text-base;
                &:before {
                    content: '0' counter(form-item) '. ';
                    @apply absolute left-[-5px] inline-block text-teal sm:relative;
                }
            }

            & input {
                @apply col-span-2;
                @apply full z-10 bg-transparent text-sm outline-none;
            }

            & textarea {
                @apply col-span-3 col-start-1;
                @apply z-10 mt-2 mb-4 flex w-full resize-none border-2 border-grey-60/75 bg-transparent p-1 pt-2 outline-none;
                &:focus {
                    transition: 0.25s ease-in;
                    @apply border-teal-neon;
                }
            }

            &*::placeholder {
                @apply font-robotoMono text-sm opacity-75;
            }
        }
        /* parent div activates when input is focused */
        & > div:focus-within {
            transition: 0.25s ease-in;
            @apply border-teal-neon;
        }
        /* Inputs (01. + 02.) */
        & > div:nth-of-type(-n + 2) {
            @apply sm:w-[45%];
        }
        /* Input (03.Subject) and down */
        & > div:nth-of-type(n + 3) {
            @apply sm:mb-10 sm:w-[95%];
        }
        /* Input (04.Message) and down */
        & > div:nth-of-type(n + 4) {
            @apply border-b-0;
        }
    }

    /* 
    Styled_Button Hexagons 
    .styled-btn {
        --s: 30px;
        --m: 0px;
        --cont-t: 1;
    }
    .styled-btn:hover {
        --s: 30px; 
        --m: 10px;
        --cont-t: 1.5;
    }
    .hexagons {
        --cb-ease: cubic-bezier(0.64, 0.57, 0.67, 1.53);

        & > div {
            transform: scale(var(--cont-t));
            transform-origin: top;
            transition: 0.5s var(--ease);
        }
        & .container {
            & div {
                width: var(--s);
                margin: var(--m);
                height: calc(var(--s) * 1.1547);
                clip-path: polygon(
                    0% 25%,
                    0% 75%,
                    50% 100%,
                    100% 75%,
                    100% 25%,
                    50% 0%
                );
                margin-bottom: calc(var(--m) - var(--s) * 0.2885);
                transition: 1s var(--cb-ease);
            }

            --f: calc(1.732 * var(--s) + 4 * var(--m) - 1px);

            &:before {
                content: '';
                width: calc(var(--s) / 2 + var(--m));
                float: left;
                height: 120%;
                shape-outside: repeating-linear-gradient(
                    #0000 0 calc(var(--f) - 3px),
                    #000 0 var(--f)
                );
                transition: 1s var(--cb-ease);
            }
        }

        &:after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            z-index: 1;
            box-shadow: inset 0 0 1rem 1rem #0002;
        }
    }
*/

    /** Styled Link **/
    .styled_link {
        position: relative;
        color: theme(colors.grey.70);
        cursor: pointer;
        filter: blur(0px) saturate(1) contrast(1);
        transform: translateY(0px);
        transition: all 0.3s 0s ease-in-out;

        &:before,
        &:after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            height: 2.5px;
            background: theme(backgroundImage.gradient);
            background-size: 100%;
            background-position: 50%;
            border-radius: 10%;
            transform: scaleY(0);
            transform-origin: top;
            transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
            @apply motion-reduce:scale-y-100;
        }
        &:before {
            bottom: -2.5px;
            filter: blur(3px) saturate(2) contrast(2);
        }
        &:after {
            bottom: 0px;
            filter: blur(0px) saturate(2) contrast(1);
        }

        &:hover {
            color: white;
            transform: translateY(-2.5px);
            transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
            @apply text-white motion-reduce:translate-y-0;

            &:before {
                transform: scaleY(1);
                transform-origin: top;
                transition: transform 0.6s ease-in-out;
            }
            &:after {
                transform: scaleY(1);
                transform-origin: top;
                transition: transform 0.3s 0.15s ease-in-out;
            }
        }

        &.clicked {
            --ease: cubic-bezier(0.5, 0.5, 0.5, 1);

            filter: blur(3px) saturate(2) contrast(2) !important;
            transform: scale(0.95) !important;
            transition: filter 0.25s var(--ease), transform 0.25s var(--ease) !important;

            &:before,
            &:after {
                transform: scale(0);
                transition: transform 0.25s var(--ease) !important;
            }
        }
    }
}
