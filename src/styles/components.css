@import './global.css';
@tailwind components;

@layer components {
    /** ================== Layout ================= **/
    .section-snap {
        margin-bottom: 100px;
    }
    @media screen(md) {
        .section-snap {
            scroll-snap-align: start;
            scroll-snap-stop: always;
            scroll-margin-top: 48px;
            margin-bottom: 100%;
            @apply landscape:snap-start md:landscape:snap-center;
        }
    }
    .section-snap:last-of-type {
        margin-bottom: 0px;
    }

    .subsection {
        counter-increment: subsection 1;
        & h4:before {
            content: '0' counter(subsection) '. ';
            color: theme(colors.white);
            font-size: 0.65em;
            font-weight: 300;
            letter-spacing: 0;
        }
    }

    /** =============== COMPONENTS ============== **/
    #navbar {
        --nav-ce: cubic-bezier(0.5, 1, 0.5, 1);

        --before: 0;
        --after-opacity: 1;
        --pseudos-transition: all 0.5s 0.85s var(--nav-ce);

        &[data-menuopen='true'] {
            --before: 1;
            --after-opacity: 1;
            --pseudos-transition: all 0.5s 0s var(--nav-ce);
        }

        &.tempered-bg {
            &:before,
            &:after {
                @apply absoluteFull;
                content: '';
            }
            &:before {
                @apply bg-nav;
                opacity: var(--before);
                transform: scaleY(var(--before));
                transition: var(--pseudos-transition);
            }
            &:after {
                @apply bg-nav_tempered backdrop-blur-sm;
                content: '';
                opacity: var(--after-opacity);
                transition: var(--pseudos-transition);
            }
        }
    }

    #about-innerHTML {
        & > p {
            @apply flex-center indent-4 md:indent-8;
            &:first-of-type {
                @apply mb-4 text-center indent-4 text-[20px] font-medium leading-8 sm:text-[24px] sm:leading-9 md:text-xl;
            }
            &:not(:last-of-type) {
                @apply pb-2 md:pb-6;
            }
        }
    }

    #experience-innerHTML {
        & > p {
            display: flex;
            justify-content: center;
            align-items: center;
            white-space: pre-wrap;
            text-indent: 8px;

            &:not(:last-of-type) {
                padding-bottom: 24px;
            }
        }
    }
    .list-item-bg {
        position: relative;
        color: theme(colors.grey.60);
        overflow: hidden;
        z-index: 1;
        transition: 0.25s ease-in;

        &:after {
            @apply absoluteFull;
            content: '';
            background: theme(backgroundImage.gradient);
            opacity: 0;
            z-index: -1;
            transition: 0.25s ease-in;
        }
        &:hover:after {
            opacity: 0.1;
        }
        &[data-active='true'] {
            color: theme(colors.white);
            &:after {
                opacity: 0.5;
            }
        }
    }

    .project-innerHTML {
        & > p {
            white-space: pre-wrap;
            text-indent: 8px;
        }
        &:before {
            content: '';
            height: 30%;
            width: 60%;
            -webkit-shape-outside: inset(0 0 0 0);
            shape-outside: inset(0 0 0 0);
        }
        &[data-even='true']:before {
            float: right;
        }
        &[data-even='false']:before {
            float: left;
        }
    }
    .custom-img {
        position: relative !important;
        height: unset !important;
    }
    /** Scroll Down Arrow **/
    .scroll-down-arrow {
        & span:nth-of-type(1) {
            transform: rotate(12.5deg) skew(12.5deg) translateX(1px);
        }
        & span:nth-of-type(2) {
            transform: rotate(-12.5deg) skew(-12.5deg) translateX(-1px);
        }
    }

    /** FORM  **/
    #form {
        @apply flex-top flex-wrap;
        & > div {
            @apply flex-col-center full mx-auto mb-5 grid grid-cols-3 border-b-2 border-dashed border-grey-60/40 py-1;
            counter-increment: form-item 1;
            transition: 0.15s ease-in;

            & label {
                @apply full ml-[12.5px] text-left text-sm font-medium uppercase sm:text-base;
                &:before {
                    content: '0' counter(form-item) '. ';
                    @apply absolute left-[-5px] inline-block text-teal sm:relative;
                }
            }

            & input {
                @apply col-span-2;
                @apply full z-10 bg-transparent text-sm outline-none;
            }

            & textarea {
                @apply col-span-3 col-start-1;
                @apply z-10 mt-2 mb-4 flex w-full resize-none border-2 border-grey-60/75 bg-transparent p-1 pt-2 outline-none;
                &:focus {
                    transition: 0.25s ease-in;
                    @apply border-teal-neon;
                }
            }

            &*::placeholder {
                @apply font-robotoMono text-sm opacity-75;
            }
        }
        /* parent div activates when input is focused */
        & > div:focus-within {
            transition: 0.25s ease-in;
            @apply border-teal-neon;
        }
        /* Inputs (01. + 02.) */
        & > div:nth-of-type(-n + 2) {
            @apply sm:w-[45%];
        }
        /* Input (03.Subject) and down */
        & > div:nth-of-type(n + 3) {
            @apply sm:mb-10 sm:w-[95%];
        }
        /* Input (04.Message) and down */
        & > div:nth-of-type(n + 4) {
            @apply border-b-0;
        }
    }

    /* 
    Styled_Button Hexagons 
    .styled-btn {
        --s: 30px;
        --m: 0px;
        --cont-t: 1;
    }
    .styled-btn:hover {
        --s: 30px; 
        --m: 10px;
        --cont-t: 1.5;
    }
    .hexagons {
        --cb-ease: cubic-bezier(0.64, 0.57, 0.67, 1.53);

        & > div {
            transform: scale(var(--cont-t));
            transform-origin: top;
            transition: 0.5s var(--ease);
        }
        & .container {
            & div {
                width: var(--s);
                margin: var(--m);
                height: calc(var(--s) * 1.1547);
                clip-path: polygon(
                    0% 25%,
                    0% 75%,
                    50% 100%,
                    100% 75%,
                    100% 25%,
                    50% 0%
                );
                margin-bottom: calc(var(--m) - var(--s) * 0.2885);
                transition: 1s var(--cb-ease);
            }

            --f: calc(1.732 * var(--s) + 4 * var(--m) - 1px);

            &:before {
                content: '';
                width: calc(var(--s) / 2 + var(--m));
                float: left;
                height: 120%;
                shape-outside: repeating-linear-gradient(
                    #0000 0 calc(var(--f) - 3px),
                    #000 0 var(--f)
                );
                transition: 1s var(--cb-ease);
            }
        }

        &:after {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            right: 0;
            left: 0;
            z-index: 1;
            box-shadow: inset 0 0 1rem 1rem #0002;
        }
    }
*/

    /** SectionCardContent Underline & Bg Effect **/
    .styled-underline {
        position: absolute;
        bottom: 0px;
        height: 2px;
        background-color: #fffa;
        border-radius: 40% 40% 0 0;
        filter: blur(0.5px);
        @apply left-0 w-full md:left-auto md:w-[calc(5em+15vw)];

        &:after {
            content: '';
            position: absolute;
            bottom: -2.5px;
            left: 0;
            right: 0;
            height: 3px;
            background: theme(backgroundImage.gradient);
            background-size: 500%;
            background-position: 33%;
            border-radius: 0 0 40% 40%;
            filter: blur(2px) contrast(1.5);
        }
    }

    /** Styled_btn**/
    .styled-btn {
        position: relative;
        border-radius: 3rem;
        color: white;
        overflow: hidden;
        z-index: 1;

        &:before {
            @apply absoluteFull;
            content: '';
            background: theme(backgroundImage.gradient);
            opacity: 0.25;
            filter: brightness(1.25) saturate(1.5);
            z-index: -1;
        }
    }
    /** Styled Link **/
    .styled_link {
        position: relative;
        color: theme(colors.grey.70);
        cursor: pointer;
        filter: blur(0px) saturate(1) contrast(1);
        transform: translateY(0px);
        transition: all 0.3s 0s ease-in-out;

        &:before,
        &:after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            background: theme(backgroundImage.gradient);
            background-size: 300%;
            background-position: 0%;
            border-radius: 10%;
            opacity: 0;
            transform-origin: top;
            transition: color 0.3s ease-in-out, opacity 0.3s ease-in-out;
            @apply motion-reduce:scale-y-100;
        }
        &:before {
            bottom: 0px;
            height: 2px;
            filter: blur(3px) saturate(2) contrast(2);
        }
        &:after {
            bottom: 3px;
            height: 1px;
            filter: blur(0px) saturate(1) contrast(0.5);
        }

        &:hover {
            color: white;
            transform: translateY(-2.5px);
            transition: color 0.3s ease-in-out, transform 0.3s ease-in-out;
            @apply text-white motion-reduce:translate-y-0;

            &:before {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.6s ease-in-out;
            }
            &:after {
                opacity: 1;
                transform-origin: top;
                transition: opacity 0.3s 0.15s ease-in-out;
            }
        }

        &.clicked {
            --ease: cubic-bezier(0.5, 0.5, 0.5, 1);

            filter: blur(3px) saturate(2) contrast(2) !important;
            transform: scale(0.95) !important;
            transition: filter 0.25s var(--ease), transform 0.25s var(--ease) !important;

            &:before,
            &:after {
                transform: scale(0);
                transition: transform 0.25s var(--ease) !important;
            }
        }
    }
}
