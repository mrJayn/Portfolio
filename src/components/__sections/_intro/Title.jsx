import { motion, useReducedMotion } from 'framer-motion'
import { introVariants } from '@motion'

const Title = ({ titleControls, contentControls, isFirstLoad }) => {
    const pRM = useReducedMotion()
    const stagger = !pRM & isFirstLoad.current ? 0.1 : 0
    const timeout = isFirstLoad.current ? 0.5 : 0.25

    const onAnimComplete = () => contentControls.start('show')

    return (
        <div className="relative w-[300px] sm:w-[412px]  xl:w-[425px] max:w-[500px]">
            <svg
                width="100%"
                viewBox="0 -25 360 75"
                xmlns="http://www.w3.org/2000/svg"
            >
                <g
                    stroke="#010"
                    strokeWidth={2}
                    vectorEffect="non-scaling-stroke"
                >
                    {paths.map((path, i) => {
                        const DELAY = timeout + i * stagger
                        const isLast = i == paths.length - 1
                        return (
                            <motion.path
                                key={`title-letter-${i}`}
                                d={path}
                                initial={pRM ? 'pRM_hidden' : 'hidden'}
                                animate={titleControls}
                                variants={introVariants.Title}
                                transition={{
                                    pathLength: {
                                        delay: DELAY,
                                        type: 'spring',
                                        stiffness: 500,
                                        damping: 100,
                                    },
                                    fillOpacity: {
                                        duration: 0.4,
                                        delay: DELAY + 0.6,
                                    },
                                    stroke: {
                                        duration: 0.5,
                                        delay: DELAY + 0.25,
                                    },
                                    strokeOpacity: {
                                        duration: 0.5,
                                        delay: DELAY + 0.25,
                                    },
                                }}
                                onAnimationComplete={isLast && onAnimComplete}
                            />
                        )
                    })}
                </g>
            </svg>
        </div>
    )
}

// https://danmarshall.github.io/google-font-to-svg-path/
const paths = [
    'M 6.2 38.6 L 0 38.6 L 0 3.6 L 5.35 3.6 L 20.65 29.15 L 17.85 29.15 L 32.9 3.6 L 38.25 3.6 L 38.3 38.6 L 32.15 38.6 L 32.1 13.25 L 33.4 13.25 L 20.6 34.6 L 17.7 34.6 L 4.7 13.25 L 6.2 13.25 L 6.2 38.6 Z',
    'M 53.4 38.6 L 47.15 38.6 L 47.15 11.9 L 53.4 11.9 L 53.4 38.6 Z M 48.935 7.304 A 3.716 3.716 0 0 1 47.425 6.4 A 3.671 3.671 0 0 1 46.5 4.978 A 3.7 3.7 0 0 1 46.3 3.75 A 3.736 3.736 0 0 1 46.599 2.24 A 3.591 3.591 0 0 1 47.425 1.075 A 3.84 3.84 0 0 1 49.71 0.033 A 5.21 5.21 0 0 1 50.3 0 A 4.903 4.903 0 0 1 51.619 0.169 A 3.783 3.783 0 0 1 53.175 1.025 A 3.317 3.317 0 0 1 54.297 3.432 A 4.157 4.157 0 0 1 54.3 3.6 Q 54.3 5.25 53.2 6.375 A 3.683 3.683 0 0 1 51.002 7.454 A 5.142 5.142 0 0 1 50.3 7.5 A 4.561 4.561 0 0 1 48.935 7.304 Z',
    'M 85.25 17.8 Q 83.7 14.75 80.725 13.175 A 13.044 13.044 0 0 0 77.519 11.994 A 16.398 16.398 0 0 0 73.85 11.6 A 18.545 18.545 0 0 0 71.684 11.724 A 14.829 14.829 0 0 0 66.375 13.35 Q 63.1 15.1 61.25 18.175 A 12.488 12.488 0 0 0 59.938 21.206 A 14.703 14.703 0 0 0 59.4 25.25 A 16.069 16.069 0 0 0 59.445 26.464 A 13.162 13.162 0 0 0 61.25 32.3 Q 63.1 35.4 66.375 37.175 A 14.167 14.167 0 0 0 69.649 38.449 A 16.999 16.999 0 0 0 73.85 38.95 A 16.845 16.845 0 0 0 76.197 38.791 A 13.191 13.191 0 0 0 80.725 37.325 Q 83.7 35.7 85.25 32.7 L 80.45 29.9 A 9.237 9.237 0 0 1 79.649 30.99 A 7.16 7.16 0 0 1 77.525 32.7 Q 75.8 33.6 73.8 33.6 A 10.123 10.123 0 0 1 73.092 33.576 A 8.382 8.382 0 0 1 69.65 32.6 Q 67.8 31.6 66.75 29.725 A 7.971 7.971 0 0 1 65.901 27.386 A 10.821 10.821 0 0 1 65.7 25.25 A 10.948 10.948 0 0 1 65.873 23.257 A 8.031 8.031 0 0 1 66.75 20.775 Q 67.8 18.9 69.65 17.9 A 8.055 8.055 0 0 1 71.164 17.272 A 9.106 9.106 0 0 1 73.8 16.9 Q 75.8 16.9 77.525 17.8 A 6.951 6.951 0 0 1 79.142 18.972 A 8.72 8.72 0 0 1 80.45 20.6 L 85.25 17.8 Z',
    'M 116.95 23.3 L 116.95 38.6 L 110.7 38.6 L 110.7 24.1 A 12.005 12.005 0 0 0 110.552 22.151 Q 110.203 20.031 109.025 18.8 A 5.482 5.482 0 0 0 106.256 17.257 A 8.278 8.278 0 0 0 104.35 17.05 Q 102.15 17.05 100.45 17.95 Q 98.75 18.85 97.825 20.625 A 7.587 7.587 0 0 0 97.162 22.488 Q 96.97 23.351 96.918 24.355 A 14.658 14.658 0 0 0 96.9 25.1 L 96.9 38.6 L 90.65 38.6 L 90.65 1.5 L 96.9 1.5 L 96.9 19.1 L 95.55 16.9 Q 96.95 14.35 99.625 12.975 A 12.307 12.307 0 0 1 103.491 11.763 A 15.872 15.872 0 0 1 105.8 11.6 A 14.071 14.071 0 0 1 109.009 11.953 A 11.597 11.597 0 0 1 111.525 12.85 Q 114.05 14.1 115.5 16.675 A 10.395 10.395 0 0 1 116.529 19.362 Q 116.95 21.117 116.95 23.3 Z',
    'M 147.25 38.6 L 141.35 38.6 L 141.35 33.2 L 141 32.05 L 141 22.6 A 7.371 7.371 0 0 0 140.805 20.854 A 4.951 4.951 0 0 0 139.35 18.325 A 5.136 5.136 0 0 0 137.525 17.263 Q 136.195 16.8 134.35 16.8 Q 132.1 16.8 129.925 17.5 A 12.279 12.279 0 0 0 127.861 18.368 A 9.662 9.662 0 0 0 126.25 19.45 L 123.8 14.9 A 13.93 13.93 0 0 1 127.146 13.021 A 17.264 17.264 0 0 1 128.925 12.425 Q 131.9 11.6 135.1 11.6 Q 140.9 11.6 144.075 14.375 A 8.655 8.655 0 0 1 146.598 18.315 Q 147.064 19.75 147.197 21.502 A 19.16 19.16 0 0 1 147.25 22.95 L 147.25 38.6 Z M 134.1 23 L 141.85 23 L 141.85 27.15 L 134.55 27.15 A 15.737 15.737 0 0 0 133.165 27.206 Q 131.092 27.39 130.25 28.175 A 3.304 3.304 0 0 0 129.152 30.561 A 4.002 4.002 0 0 0 129.15 30.7 Q 129.15 32.4 130.5 33.4 A 4.622 4.622 0 0 0 131.939 34.101 Q 132.563 34.288 133.31 34.358 A 10.069 10.069 0 0 0 134.25 34.4 A 8.641 8.641 0 0 0 136.814 34.03 A 7.647 7.647 0 0 0 138.375 33.35 Q 140.2 32.3 141 30.25 L 142.05 34 A 6.914 6.914 0 0 1 138.969 37.568 A 8.693 8.693 0 0 1 138.825 37.65 A 9.56 9.56 0 0 1 136.285 38.605 Q 135.157 38.864 133.845 38.929 A 18.14 18.14 0 0 1 132.95 38.95 A 14.849 14.849 0 0 1 130.323 38.729 A 10.989 10.989 0 0 1 127.7 37.925 A 8.984 8.984 0 0 1 125.652 36.655 A 7.489 7.489 0 0 1 124.225 35.075 Q 123 33.25 123 30.95 A 8.078 8.078 0 0 1 123.452 28.221 A 7.432 7.432 0 0 1 124.075 26.9 A 6.191 6.191 0 0 1 125.719 25.112 Q 126.528 24.51 127.6 24.05 A 11.235 11.235 0 0 1 129.662 23.41 Q 131.569 23 134.1 23 Z',
    'M 180.25 27.25 L 158 27.25 L 158 23.1 L 176.95 23.1 L 174.5 24.4 Q 174.528 23.127 174.234 22.022 A 6.967 6.967 0 0 0 173.55 20.35 Q 172.55 18.6 170.825 17.6 A 7.413 7.413 0 0 0 167.942 16.663 A 9.317 9.317 0 0 0 166.85 16.6 A 8.942 8.942 0 0 0 164.725 16.842 A 7.143 7.143 0 0 0 162.825 17.6 Q 161.1 18.6 160.125 20.375 Q 159.15 22.15 159.15 24.55 L 159.15 25.55 A 8.904 8.904 0 0 0 159.474 27.994 A 7.563 7.563 0 0 0 160.25 29.8 Q 161.35 31.65 163.35 32.65 A 9.384 9.384 0 0 0 166.233 33.532 A 12.071 12.071 0 0 0 167.95 33.65 Q 170.2 33.65 172 32.95 A 8.574 8.574 0 0 0 175.068 30.889 A 9.94 9.94 0 0 0 175.2 30.75 L 178.55 34.6 A 11.675 11.675 0 0 1 174.362 37.681 A 13.651 13.651 0 0 1 174.025 37.825 A 14.591 14.591 0 0 1 170.516 38.765 A 19.118 19.118 0 0 1 167.8 38.95 Q 163.35 38.95 160.025 37.175 Q 156.7 35.4 154.875 32.3 A 13.284 13.284 0 0 1 153.097 26.494 A 16.269 16.269 0 0 1 153.05 25.25 Q 153.05 21.25 154.825 18.175 Q 156.6 15.1 159.725 13.35 A 13.777 13.777 0 0 1 165.142 11.684 A 17.074 17.074 0 0 1 166.85 11.6 A 15.272 15.272 0 0 1 170.915 12.123 A 12.963 12.963 0 0 1 173.8 13.3 Q 176.85 15 178.6 18.1 A 13.368 13.368 0 0 1 180.134 22.583 A 17.677 17.677 0 0 1 180.35 25.4 A 15.261 15.261 0 0 1 180.344 25.811 Q 180.338 26.042 180.325 26.3 A 16.41 16.41 0 0 1 180.276 26.993 A 14.101 14.101 0 0 1 180.25 27.25 Z',
    'M 192.6 38.6 L 186.35 38.6 L 186.35 1.5 L 192.6 1.5 L 192.6 38.6 Z',
    'M 209.85 34.05 L 213.55 29.6 Q 214.968 31.556 216.649 32.556 A 7.962 7.962 0 0 0 216.725 32.6 Q 218.45 33.6 220.5 33.6 Q 225.95 33.6 225.95 27.15 L 225.95 9.05 L 213.5 9.05 L 213.5 3.6 L 232.45 3.6 L 232.45 26.8 A 20.28 20.28 0 0 1 232.183 30.204 Q 231.868 32.055 231.178 33.516 A 9.037 9.037 0 0 1 229.425 36.05 A 9.706 9.706 0 0 1 225.231 38.495 Q 223.716 38.949 221.896 39.062 A 20.038 20.038 0 0 1 220.65 39.1 A 15.074 15.074 0 0 1 216.117 38.432 A 13.784 13.784 0 0 1 214.475 37.8 Q 211.65 36.5 209.85 34.05 Z',
    'M 263.3 38.6 L 257.4 38.6 L 257.4 33.2 L 257.05 32.05 L 257.05 22.6 A 7.371 7.371 0 0 0 256.855 20.854 A 4.951 4.951 0 0 0 255.4 18.325 A 5.136 5.136 0 0 0 253.575 17.263 Q 252.245 16.8 250.4 16.8 Q 248.15 16.8 245.975 17.5 A 12.279 12.279 0 0 0 243.911 18.368 A 9.662 9.662 0 0 0 242.3 19.45 L 239.85 14.9 A 13.93 13.93 0 0 1 243.196 13.021 A 17.264 17.264 0 0 1 244.975 12.425 Q 247.95 11.6 251.15 11.6 Q 256.95 11.6 260.125 14.375 A 8.655 8.655 0 0 1 262.648 18.315 Q 263.114 19.75 263.247 21.502 A 19.16 19.16 0 0 1 263.3 22.95 L 263.3 38.6 Z M 250.15 23 L 257.9 23 L 257.9 27.15 L 250.6 27.15 A 15.737 15.737 0 0 0 249.215 27.206 Q 247.142 27.39 246.3 28.175 A 3.304 3.304 0 0 0 245.202 30.561 A 4.002 4.002 0 0 0 245.2 30.7 Q 245.2 32.4 246.55 33.4 A 4.622 4.622 0 0 0 247.989 34.101 Q 248.613 34.288 249.36 34.358 A 10.069 10.069 0 0 0 250.3 34.4 A 8.641 8.641 0 0 0 252.864 34.03 A 7.647 7.647 0 0 0 254.425 33.35 Q 256.25 32.3 257.05 30.25 L 258.1 34 A 6.914 6.914 0 0 1 255.019 37.568 A 8.693 8.693 0 0 1 254.875 37.65 A 9.56 9.56 0 0 1 252.335 38.605 Q 251.207 38.864 249.895 38.929 A 18.14 18.14 0 0 1 249 38.95 A 14.849 14.849 0 0 1 246.373 38.729 A 10.989 10.989 0 0 1 243.75 37.925 A 8.984 8.984 0 0 1 241.702 36.655 A 7.489 7.489 0 0 1 240.275 35.075 Q 239.05 33.25 239.05 30.95 A 8.078 8.078 0 0 1 239.502 28.221 A 7.432 7.432 0 0 1 240.125 26.9 A 6.191 6.191 0 0 1 241.769 25.112 Q 242.578 24.51 243.65 24.05 A 11.235 11.235 0 0 1 245.712 23.41 Q 247.619 23 250.15 23 Z',
    'M 266.35 46.2 L 268.85 41.6 Q 269.8 42.45 271 42.95 Q 272.2 43.45 273.45 43.45 A 5.539 5.539 0 0 0 274.628 43.332 Q 275.542 43.133 276.2 42.6 A 4.717 4.717 0 0 0 276.904 41.88 Q 277.559 41.063 278.15 39.75 L 279.7 36.25 L 280.2 35.5 L 290.3 11.9 L 296.3 11.9 L 283.8 40.75 A 23.913 23.913 0 0 1 282.824 42.824 Q 282.295 43.813 281.725 44.611 A 11.779 11.779 0 0 1 281.025 45.5 A 9.57 9.57 0 0 1 279.419 46.983 A 7.595 7.595 0 0 1 277.625 47.95 A 11.133 11.133 0 0 1 274.736 48.595 A 13.517 13.517 0 0 1 273.5 48.65 A 12.264 12.264 0 0 1 269.615 48.005 A 13.583 13.583 0 0 1 269.6 48 Q 267.65 47.35 266.35 46.2 Z M 283.25 34.95 L 273.45 11.9 L 266.95 11.9 L 279 39.55 L 283.25 34.95 Z',
    'M 326.5 23.3 L 326.5 38.6 L 320.25 38.6 L 320.25 24.1 A 12.005 12.005 0 0 0 320.102 22.151 Q 319.753 20.031 318.575 18.8 A 5.482 5.482 0 0 0 315.806 17.257 A 8.278 8.278 0 0 0 313.9 17.05 Q 311.7 17.05 310 17.95 Q 308.3 18.85 307.375 20.625 A 7.587 7.587 0 0 0 306.712 22.488 Q 306.52 23.351 306.468 24.355 A 14.658 14.658 0 0 0 306.45 25.1 L 306.45 38.6 L 300.2 38.6 L 300.2 11.9 L 306.15 11.9 L 306.15 19.1 L 305.1 16.9 Q 306.5 14.35 309.175 12.975 A 12.307 12.307 0 0 1 313.041 11.763 A 15.872 15.872 0 0 1 315.35 11.6 A 14.071 14.071 0 0 1 318.559 11.953 A 11.597 11.597 0 0 1 321.075 12.85 Q 323.6 14.1 325.05 16.675 A 10.395 10.395 0 0 1 326.079 19.362 Q 326.5 21.117 326.5 23.3 Z',
    'M 359.45 27.25 L 337.2 27.25 L 337.2 23.1 L 356.15 23.1 L 353.7 24.4 Q 353.728 23.127 353.434 22.022 A 6.967 6.967 0 0 0 352.75 20.35 Q 351.75 18.6 350.025 17.6 A 7.413 7.413 0 0 0 347.142 16.663 A 9.317 9.317 0 0 0 346.05 16.6 A 8.942 8.942 0 0 0 343.925 16.842 A 7.143 7.143 0 0 0 342.025 17.6 Q 340.3 18.6 339.325 20.375 Q 338.35 22.15 338.35 24.55 L 338.35 25.55 A 8.904 8.904 0 0 0 338.674 27.994 A 7.563 7.563 0 0 0 339.45 29.8 Q 340.55 31.65 342.55 32.65 A 9.384 9.384 0 0 0 345.433 33.532 A 12.071 12.071 0 0 0 347.15 33.65 Q 349.4 33.65 351.2 32.95 A 8.574 8.574 0 0 0 354.268 30.889 A 9.94 9.94 0 0 0 354.4 30.75 L 357.75 34.6 A 11.675 11.675 0 0 1 353.562 37.681 A 13.651 13.651 0 0 1 353.225 37.825 A 14.591 14.591 0 0 1 349.716 38.765 A 19.118 19.118 0 0 1 347 38.95 Q 342.55 38.95 339.225 37.175 Q 335.9 35.4 334.075 32.3 A 13.284 13.284 0 0 1 332.297 26.494 A 16.269 16.269 0 0 1 332.25 25.25 Q 332.25 21.25 334.025 18.175 Q 335.8 15.1 338.925 13.35 A 13.777 13.777 0 0 1 344.342 11.684 A 17.074 17.074 0 0 1 346.05 11.6 A 15.272 15.272 0 0 1 350.115 12.123 A 12.963 12.963 0 0 1 353 13.3 Q 356.05 15 357.8 18.1 A 13.368 13.368 0 0 1 359.334 22.583 A 17.677 17.677 0 0 1 359.55 25.4 A 15.261 15.261 0 0 1 359.544 25.811 Q 359.538 26.042 359.525 26.3 A 16.41 16.41 0 0 1 359.476 26.993 A 14.101 14.101 0 0 1 359.45 27.25 Z',
]
export default Title
